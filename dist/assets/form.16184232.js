import{R as L,r as m,I as T,a as s,_ as F,C as Y,u as ee,j as y,d as re,ap as se,F as ie,z as le,l as ce,aq as fe,X as pe}from"./index.7e6dc9cc.js";import{B as A}from"./index.bc301b9f.js";import{F as R,C as ue}from"./index.94cd38a9.js";import{I as J}from"./index.8d0edf7b.js";import{u as me}from"./useLocale.ba496e22.js";import{l as de,s as x}from"./index.module.6ab84a6c.js";import{u as ge}from"./useKeyboardEvent.baf28e09.js";function V(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,r)}return e}function X(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?V(Object(e),!0).forEach(function(r){F(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):V(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function ve(t,n){var e=m.exports.useContext(T),r=e.prefixCls,a=r===void 0?"arco":r,i=t.spin,c=t.className,o=X(X({"aria-hidden":!0,focusable:!1,ref:n},t),{},{className:"".concat(c?c+" ":"").concat(a,"-icon ").concat(a,"-icon-link")});return i&&(o.className="".concat(o.className," ").concat(a,"-icon-loading")),delete o.spin,delete o.isIcon,s("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...o,children:s("path",{d:"m14.1 25.414-4.95 4.95a6 6 0 0 0 8.486 8.485l8.485-8.485a6 6 0 0 0 0-8.485m7.779.707 4.95-4.95a6 6 0 1 0-8.486-8.485l-8.485 8.485a6 6 0 0 0 0 8.485"})})}var K=L.forwardRef(ve);K.defaultProps={isIcon:!0};K.displayName="IconLink";var he=K,M=globalThis&&globalThis.__assign||function(){return M=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},M.apply(this,arguments)},be=globalThis&&globalThis.__rest||function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(e[r[a]]=t[r[a]]);return e},ye={hoverable:!0};function Oe(t,n){var e,r=m.exports.useContext(Y),a=r.getPrefixCls,i=r.componentConfig,c=r.rtl,o=ee(t,ye,i==null?void 0:i.Link),f=o.className,P=o.style,C=o.children,u=o.icon,d=o.status,g=o.disabled,p=o.hoverable,v=be(o,["className","style","children","icon","status","disabled","hoverable"]),j=ge({onKeyDown:o.onKeyDown}),l=a("link"),_="href"in o?"a":"span",k=function(O){g?(O.preventDefault(),O.stopPropagation()):o.onClick&&o.onClick(O)};return y(_,{...M({className:re(l,(e={},e[l+"-disabled"]=g,e[l+"-is-"+d]=d,e[l+"-with-icon"]=u,e[l+"-hoverless"]=!p,e[l+"-rtl"]=c,e),f),ref:n,tabIndex:g?-1:void 0},v,{style:P,onClick:k},j({onPressEnter:k})),children:[u?s("span",{className:l+"-icon",children:u===!0?s(he,{}):u}):null,C]})}var te=m.exports.forwardRef(Oe);te.displayName="Link";var we=te;function ne(t){var n=[];return L.Children.forEach(t,function(e){se.exports.isFragment(e)&&e.props?n=n.concat(ne(e.props.children)):e!=null&&n.push(e)}),n}var B=globalThis&&globalThis.__assign||function(){return B=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++){n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},B.apply(this,arguments)},xe=globalThis&&globalThis.__rest||function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(e[r[a]]=t[r[a]]);return e},Pe={size:"small",direction:"horizontal"};function Ce(t,n){var e,r=m.exports.useContext(Y),a=r.getPrefixCls,i=r.componentConfig,c=r.rtl,o=ee(t,Pe,i==null?void 0:i.Space),f=o.className,P=o.style,C=o.children,u=o.size,d=o.direction,g=o.align,p=o.wrap,v=o.split,j=xe(o,["className","style","children","size","direction","align","wrap","split"]),l=a("space"),_=g||(d==="horizontal"?"center":""),k=re(l,(e={},e[l+"-"+d]=d,e[l+"-align-"+_]=_,e[l+"-wrap"]=p,e[l+"-rtl"]=c,e),f);function O(h){if(ce(h))return h;switch(h){case"mini":return 4;case"small":return 8;case"medium":return 16;case"large":return 24;default:return 8}}var W=ne(C);function oe(h){var b,w,N,D,E=W.length===h+1,S=c?"marginLeft":"marginRight";if(typeof u=="string"||typeof u=="number"){var I=O(u);return p?E?{marginBottom:I}:(b={},b[""+S]=I,b.marginBottom=I,b):E?{}:(w={},w[d==="vertical"?"marginBottom":S]=I,w)}if(le(u)){var q=O(u[0]),$=O(u[1]);return p?E?{marginBottom:$}:(N={},N[""+S]=q,N.marginBottom=$,N):d==="vertical"?{marginBottom:$}:(D={},D[""+S]=q,D)}}return s("div",{...B({ref:n,className:k,style:P},j),children:W.map(function(h,b){var w;!((w=h)===null||w===void 0)&&w.key;var N=v!=null&&b>0;return y(ie,{children:[N&&s("div",{className:l+"-item-split",children:v}),s("div",{className:l+"-item",style:oe(b),children:h})]})})})}var ae=m.exports.forwardRef(Ce);ae.displayName="Space";var Ne=ae;function Z(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,r)}return e}function G(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Z(Object(e),!0).forEach(function(r){F(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Z(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function je(t,n){var e=m.exports.useContext(T),r=e.prefixCls,a=r===void 0?"arco":r,i=t.spin,c=t.className,o=G(G({"aria-hidden":!0,focusable:!1,ref:n},t),{},{className:"".concat(c?c+" ":"").concat(a,"-icon ").concat(a,"-icon-lock")});return i&&(o.className="".concat(o.className," ").concat(a,"-icon-loading")),delete o.spin,delete o.isIcon,y("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...o,children:[s("rect",{width:"34",height:"20",x:"7",y:"21",rx:"1"}),s("path",{d:"M15 21v-6a9 9 0 1 1 18 0v6M24 35v-8"})]})}var z=L.forwardRef(je);z.defaultProps={isIcon:!0};z.displayName="IconLock";var _e=z;function H(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,r)}return e}function Q(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?H(Object(e),!0).forEach(function(r){F(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):H(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function ke(t,n){var e=m.exports.useContext(T),r=e.prefixCls,a=r===void 0?"arco":r,i=t.spin,c=t.className,o=Q(Q({"aria-hidden":!0,focusable:!1,ref:n},t),{},{className:"".concat(c?c+" ":"").concat(a,"-icon ").concat(a,"-icon-user")});return i&&(o.className="".concat(o.className," ").concat(a,"-icon-loading")),delete o.spin,delete o.isIcon,y("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...o,children:[s("path",{d:"M7 37c0-4.97 4.03-8 9-8h16c4.97 0 9 3.03 9 8v3a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-3Z"}),s("circle",{cx:"24",cy:"15",r:"8"})]})}var U=L.forwardRef(ke);U.defaultProps={isIcon:!0};U.displayName="IconUser";var Se=U;function Be(){const t=m.exports.useRef(),[n,e]=m.exports.useState(""),[r,a]=m.exports.useState(!1),[i,c,o]=fe("loginParams"),f=me(de),[P,C]=m.exports.useState(!!i);function u(p){P?c(JSON.stringify(p)):o(),localStorage.setItem("userStatus","login"),window.location.href="/"}function d(p){e(""),a(!0),pe.post("/api/user/login",p).then(v=>{const{status:j,msg:l}=v.data;j==="ok"?u(p):e(l||f["login.form.login.errMsg"])}).finally(()=>{a(!1)})}function g(){t.current.validate().then(p=>{d(p)})}return m.exports.useEffect(()=>{const p=!!i;if(C(p),t.current&&p){const v=JSON.parse(i);t.current.setFieldsValue(v)}},[i]),y("div",{className:x["login-form-wrapper"],children:[s("div",{className:x["login-form-title"],children:f["login.form.title"]}),s("div",{className:x["login-form-sub-title"],children:f["login.form.title"]}),s("div",{className:x["login-form-error-msg"],children:n}),y(R,{className:x["login-form"],layout:"vertical",ref:t,initialValues:{userName:"admin",password:"admin"},children:[s(R.Item,{field:"userName",rules:[{required:!0,message:f["login.form.userName.errMsg"]}],children:s(J,{prefix:s(Se,{}),placeholder:f["login.form.userName.placeholder"],onPressEnter:g})}),s(R.Item,{field:"password",rules:[{required:!0,message:f["login.form.password.errMsg"]}],children:s(J.Password,{prefix:s(_e,{}),placeholder:f["login.form.password.placeholder"],onPressEnter:g})}),y(Ne,{size:16,direction:"vertical",children:[y("div",{className:x["login-form-password-actions"],children:[s(ue,{checked:P,onChange:C,children:f["login.form.rememberPassword"]}),s(we,{children:f["login.form.forgetPassword"]})]}),s(A,{type:"primary",long:!0,onClick:g,loading:r,children:f["login.form.login"]}),s(A,{type:"text",long:!0,className:x["login-form-register-btn"],children:f["login.form.register"]})]})]})]})}export{Be as default};
