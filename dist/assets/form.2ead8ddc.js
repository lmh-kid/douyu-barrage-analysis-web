import{R as j,r as p,as as N,b as a,at as k,C as W,a as q,u as J,j as g,c as V,ax as Z,aw as z,Z as D,_ as E,Y as H}from"./index.60270274.js";import{S as Y}from"./index.205a50c7.js";import{F as P,C as A}from"./index.bfc7477a.js";import{l as G,s as m}from"./index.module.6ab84a6c.js";function $(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,e)}return t}function R(r){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?$(Object(t),!0).forEach(function(e){k(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):$(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function Q(r,n){var t=p.exports.useContext(N),e=t.prefixCls,o=e===void 0?"arco":e,i=r.spin,l=r.className,s=R(R({"aria-hidden":!0,focusable:!1,ref:n},r),{},{className:"".concat(l?l+" ":"").concat(o,"-icon ").concat(o,"-icon-link")});return i&&(s.className="".concat(s.className," ").concat(o,"-icon-loading")),delete s.spin,delete s.isIcon,a("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...s,children:a("path",{d:"m14.1 25.414-4.95 4.95a6 6 0 0 0 8.486 8.485l8.485-8.485a6 6 0 0 0 0-8.485m7.779.707 4.95-4.95a6 6 0 1 0-8.486-8.485l-8.485 8.485a6 6 0 0 0 0 8.485"})})}var I=j.forwardRef(Q);I.defaultProps={isIcon:!0};I.displayName="IconLink";var X=I,C=globalThis&&globalThis.__assign||function(){return C=Object.assign||function(r){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},C.apply(this,arguments)},ee=globalThis&&globalThis.__rest||function(r,n){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&n.indexOf(e)<0&&(t[e]=r[e]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(r);o<e.length;o++)n.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(r,e[o])&&(t[e[o]]=r[e[o]]);return t},re={hoverable:!0};function te(r,n){var t,e=p.exports.useContext(W),o=e.getPrefixCls,i=e.componentConfig,l=e.rtl,s=q(r,re,i==null?void 0:i.Link),c=s.className,b=s.style,O=s.children,v=s.icon,y=s.status,d=s.disabled,f=s.hoverable,h=ee(s,["className","style","children","icon","status","disabled","hoverable"]),x=J({onKeyDown:s.onKeyDown}),u=o("link"),U="href"in s?"a":"span",L=function(w){d?(w.preventDefault(),w.stopPropagation()):s.onClick&&s.onClick(w)};return g(U,{...C({className:V(u,(t={},t[u+"-disabled"]=d,t[u+"-is-"+y]=y,t[u+"-with-icon"]=v,t[u+"-hoverless"]=!f,t[u+"-rtl"]=l,t),c),ref:n,tabIndex:d?-1:void 0},h,{style:b,onClick:L},x({onPressEnter:L})),children:[v?a("span",{className:u+"-icon",children:v===!0?a(X,{}):v}):null,O]})}var F=p.exports.forwardRef(te);F.displayName="Link";var ne=F;function M(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,e)}return t}function K(r){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?M(Object(t),!0).forEach(function(e){k(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function oe(r,n){var t=p.exports.useContext(N),e=t.prefixCls,o=e===void 0?"arco":e,i=r.spin,l=r.className,s=K(K({"aria-hidden":!0,focusable:!1,ref:n},r),{},{className:"".concat(l?l+" ":"").concat(o,"-icon ").concat(o,"-icon-lock")});return i&&(s.className="".concat(s.className," ").concat(o,"-icon-loading")),delete s.spin,delete s.isIcon,g("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...s,children:[a("rect",{width:"34",height:"20",x:"7",y:"21",rx:"1"}),a("path",{d:"M15 21v-6a9 9 0 1 1 18 0v6M24 35v-8"})]})}var S=j.forwardRef(oe);S.defaultProps={isIcon:!0};S.displayName="IconLock";var se=S;function T(r,n){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,e)}return t}function B(r){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?T(Object(t),!0).forEach(function(e){k(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function ae(r,n){var t=p.exports.useContext(N),e=t.prefixCls,o=e===void 0?"arco":e,i=r.spin,l=r.className,s=B(B({"aria-hidden":!0,focusable:!1,ref:n},r),{},{className:"".concat(l?l+" ":"").concat(o,"-icon ").concat(o,"-icon-user")});return i&&(s.className="".concat(s.className," ").concat(o,"-icon-loading")),delete s.spin,delete s.isIcon,g("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...s,children:[a("path",{d:"M7 37c0-4.97 4.03-8 9-8h16c4.97 0 9 3.03 9 8v3a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-3Z"}),a("circle",{cx:"24",cy:"15",r:"8"})]})}var _=j.forwardRef(ae);_.defaultProps={isIcon:!0};_.displayName="IconUser";var ie=_;function ue(){const r=p.exports.useRef(),[n,t]=p.exports.useState(""),[e,o]=p.exports.useState(!1),[i,l,s]=Z("loginParams"),c=z(G),[b,O]=p.exports.useState(!!i);function v(f){b?l(JSON.stringify(f)):s(),localStorage.setItem("userStatus","login"),window.location.href="/"}function y(f){t(""),o(!0),H.post("/api/user/login",f).then(h=>{const{status:x,msg:u}=h.data;x==="ok"?v(f):t(u||c["login.form.login.errMsg"])}).finally(()=>{o(!1)})}function d(){r.current.validate().then(f=>{y(f)})}return p.exports.useEffect(()=>{const f=!!i;if(O(f),r.current&&f){const h=JSON.parse(i);r.current.setFieldsValue(h)}},[i]),g("div",{className:m["login-form-wrapper"],children:[a("div",{className:m["login-form-title"],children:c["login.form.title"]}),a("div",{className:m["login-form-sub-title"],children:c["login.form.title"]}),a("div",{className:m["login-form-error-msg"],children:n}),g(P,{className:m["login-form"],layout:"vertical",ref:r,initialValues:{userName:"admin",password:"admin"},children:[a(P.Item,{field:"userName",rules:[{required:!0,message:c["login.form.userName.errMsg"]}],children:a(D,{prefix:a(ie,{}),placeholder:c["login.form.userName.placeholder"],onPressEnter:d})}),a(P.Item,{field:"password",rules:[{required:!0,message:c["login.form.password.errMsg"]}],children:a(D.Password,{prefix:a(se,{}),placeholder:c["login.form.password.placeholder"],onPressEnter:d})}),g(Y,{size:16,direction:"vertical",children:[g("div",{className:m["login-form-password-actions"],children:[a(A,{checked:b,onChange:O,children:c["login.form.rememberPassword"]}),a(ne,{children:c["login.form.forgetPassword"]})]}),a(E,{type:"primary",long:!0,onClick:d,loading:e,children:c["login.form.login"]}),a(E,{type:"text",long:!0,className:m["login-form-register-btn"],children:c["login.form.register"]})]})]})]})}export{ue as default};
